export const returnOrThrow = (failure) => {
    if ('error' in failure) {
        throw failure.error;
    }
    if ('success' in failure) {
        return failure.success;
    }
    return failure.value;
};
export const execute = async (options, fn, ...args) => {
    try {
        const value = await fn(...args);
        if (!options.resultFilter(value)) {
            return { success: value };
        }
        return { value };
    }
    catch (error) {
        if (!options.errorFilter(error)) {
            throw error;
        }
        return { error };
    }
};
//# sourceMappingURL=execute.js.map