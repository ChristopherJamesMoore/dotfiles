(()=>{"use strict";const t=acquireVsCodeApi();class s{#t;#s;#i=!1;constructor(t){this.#t=t,window.addEventListener("message",(t=>this.#e(t))),window.addEventListener("load",(()=>this.#o()))}#n(){t.setState({...this.#t,view_id:window.view_id}),this.#i||t.postMessage({command:"update-options",options:this.#t})}#o(){this.#s={};for(const t of["opt","transform","fsmexpand"]){const s=document.getElementById(t);this.#s[t]=s,s.checked=this.#t[t],s.addEventListener("change",(()=>{this.#t[t]=s.checked,this.#n()}))}const s=document.getElementById("fsm");this.#s.fsm=s,s.value=this.#t.fsm,s.addEventListener("change",(()=>{this.#t.fsm=s.value,this.#n()})),document.getElementById("do-synth").addEventListener("click",(()=>{t.postMessage({command:"do-synth"})})),t.postMessage({command:"initialized"}),this.#n()}#d(t){this.#i=!0,this.#t=t;try{for(const t of["opt","transform","fsmexpand"])this.#s[t].checked=this.#t[t];this.#s.fsm.value=this.#t.fsm}finally{this.#i=!1}}#e(t){const s=t.data;"update-options"!==s.command||this.#d(s.options)}}{const i=t.getState();i&&i.view_id==window.view_id?(delete i.view_id,new s(i)):new s(window.init_options)}})();